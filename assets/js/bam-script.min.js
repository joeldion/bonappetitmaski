"use strict";let locationsBAM=[],locationsHP=[];const jsonDataFiles={BAM:{fileURL:bamGlobals.bamJsonURL,locationsArray:locationsBAM},HP:{fileURL:bamGlobals.hpJsonURL,locationsArray:locationsHP}};!function(e){for(let t in jsonDataFiles){let a=jsonDataFiles[t];e.getJSON(a.fileURL,(function(t){e.each(t,(function(e,t){a.locationsArray.push(t)}))}))}}(jQuery),window.onload=function(){const e=document.querySelectorAll(".nav__item > a");for(let t=0;t<e.length;t++){let a=e[t].dataset.target;e[t].addEventListener("click",(function(e){e.preventDefault(),document.querySelector(a).scrollIntoView({behavior:"smooth",block:"start"})}))}const t=document.getElementById("back-to-top");window.onscroll=function(){window.pageYOffset>800?t.classList.add("active"):t.classList.remove("active")},t.addEventListener("click",(function(e){e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"})}))},window.addEventListener("resize",(function(e){setTimeout(initMap(),1e3)}),!0);let markerCategories={hp:!0,bam:!0};function initMap(){setTimeout((function(){let e=11;window.innerWidth<=900&&(e=10);const t={center:{lat:46.415525,lng:-72.969765},zoom:e,mapTypeId:"roadmap",mapTypeControl:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#124c3c"}]}]},a=new google.maps.Map(document.getElementById("map-prod"),t);let o,n,s,l,i={data:locationsHP,icon:bamGlobals.iconURL+"icon-map-hangart-2.png",color:"#994488",suffix:"hp"},r={data:locationsBAM,icon:bamGlobals.iconURL+"icon-map-bam.png",color:"#124c3c",suffix:"bam"},c=[];markerCategories.hp&&c.push(i),markerCategories.bam&&c.push(r);for(let e in c){let t=c[e],i=t.icon;for(let e of t.data)o={position:new google.maps.LatLng(e.lat,e.lng),optimized:!1},n=new google.maps.Marker(o),n.setMap(a),n.setIcon(i),s=new google.maps.InfoWindow,function(e,o){google.maps.event.addListener(e,"click",(function(n){l="<div class='marker marker--"+t.suffix+"' style='width:150px;min-height:100px'>",l+="<h4 class='marker__title marker__title--"+t.suffix+"'>"+o.title+"</h4>",l+="<span class='marker__address'><a href='"+o.gmap+"' target='_blank'>"+o.address+"</a></span>",l+="<span class='marker__phone'><a href='tel:+1"+o.phone.replace(/\-|\s/g,"")+"'>"+o.phone+"</a></span>",l+="<span class='marker__website'><a href='"+o.website+"' target='_blank'>En savoir plus</a></span>",l+="</div>",s.setContent(l),s.open(a,e)}))}(n,e)}}),250)}const filters=document.querySelectorAll(".filter");for(let e=0;e<filters.length;e++)filters[e].addEventListener("click",(function(){let t=filters[e].dataset.cat,a=filters[e].querySelector(".filter__checkbox");markerCategories[t]?(markerCategories[t]=!1,a.classList.add("unchecked")):(markerCategories[t]=!0,a.classList.remove("unchecked")),initMap()}));