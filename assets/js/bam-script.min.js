"use strict";const googleMap="undefined"!=typeof google;let locationsBAM=[],locationsHP=[];const jsonDataFiles={BAM:{fileURL:bamGlobals.bamJsonURL,locationsArray:locationsBAM},HP:{fileURL:bamGlobals.hpJsonURL,locationsArray:locationsHP}};!function(e){for(let t in jsonDataFiles){let a=jsonDataFiles[t];e.getJSON(a.fileURL,function(t){e.each(t,function(e,t){a.locationsArray.push(t)})})}}(jQuery),window.onload=function(){let e=document.querySelectorAll(".nav__item > a");for(let t=0;t<e.length;t++){let a=e[t].dataset.target;e[t].addEventListener("click",function(e){e.preventDefault(),document.querySelector(a).scrollIntoView({behavior:"smooth",block:"start"})})}let n=document.getElementById("back-to-top");window.onscroll=function(){window.pageYOffset>800?n.classList.add("active"):n.classList.remove("active")},n.addEventListener("click",function(e){e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"})})},window.addEventListener("resize",function(e){setTimeout(initMap(),1e3)},!0);let markerCategories={hp:!0,bam:!0};function initMap(){if("undefined"==typeof google)return!1;setTimeout(function(){let e=11;window.innerWidth<=900&&(e=10);let t={center:{lat:46.415525,lng:-72.969765},zoom:e,mapTypeId:"roadmap",mapTypeControl:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#124c3c"},]},]},a=new google.maps.Map(document.getElementById("map-prod"),t),n,o,s,l,r={data:locationsHP,icon:bamGlobals.iconURL+"icon-map-hangart-2.png",color:"#994488",suffix:"hp"},c={data:locationsBAM,icon:bamGlobals.iconURL+"icon-map-bam.png",color:"#124c3c",suffix:"bam"},f=[];for(let p in markerCategories.hp&&f.push(r),markerCategories.bam&&f.push(c),f){let d=f[p],m=d.icon;for(let u of d.data)n={position:new google.maps.LatLng(u.lat,u.lng),optimized:!1},(o=new google.maps.Marker(n)).setMap(a),o.setIcon(m),s=new google.maps.InfoWindow,function(e,t){google.maps.event.addListener(e,"click",function(n){l="<div class='marker marker--"+d.suffix+"' style='width:150px;min-height:100px'>",l+="<h4 class='marker__title marker__title--"+d.suffix+"'>"+t.title+"</h4>",l+="<span class='marker__address'><a href='"+t.gmap+"' target='_blank'>"+t.address+"</a></span>",l+="<span class='marker__phone'><a href='tel:+1"+t.phone.replace(/\-|\s/g,"")+"'>"+t.phone+"</a></span>",l+="<span class='marker__website'><a href='"+t.website+"' target='_blank'>En savoir plus</a></span>",l+="</div>",s.setContent(l),s.open(a,e)})}(o,u)}},250)}const filters=document.querySelectorAll(".filter");if(filters)for(let i=0;i<filters.length;i++)filters[i].addEventListener("click",function(){let e=filters[i].dataset.cat,t=filters[i].querySelector(".filter__checkbox");markerCategories[e]?(markerCategories[e]=!1,t.classList.add("unchecked")):(markerCategories[e]=!0,t.classList.remove("unchecked")),initMap()});